<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j" xmlns:f="http://java.sun.com/jsf/core">


<h:body>
    <ui:composition template="../templates/master.xhtml">
        <ui:define name="content">
            <div class="editMarksPage form-group">
                <!--ADMIN PART-->
                <h:panelGroup rendered="#{applicationBean.userStaff}">
                    <h:form id="editMarksForm" name="editMarksForm">
                        <div class="row padding-horizontal-15px">
                            <h:outputLabel value="Issue new mark for #{marksBean.editUserDTO.name} #{marksBean.editUserDTO.lastName}"/>
                        <br/>
                            <div class="col-md-2"></div>
                            <div class="row col-md-8">
                                <h:outputLabel value="Select subject: "/>
                                <h:selectOneMenu id="chooseSubject" styleClass="form-control" value="#{marksBean.editUserDTO.subject.subjectId}">
                                    <f:selectItems value="#{marksBean.editUserDTO.avaliableSubjects}" var="subject"
                                                   itemValue="#{subject.subjectId}" itemLabel="#{subject.name}"/>
                                </h:selectOneMenu>
                                <h:outputLabel value="Choose Mark: "/>
                                <h:selectOneMenu id="chooseMark" styleClass="form-control" value="#{marksBean.editUserDTO.mark.mark}">
                                    <f:selectItems value="#{marksBean.avaliableMarks}" var="mark"
                                                   itemValue="#{mark.id}" itemLabel="#{mark.description}"/>
                                </h:selectOneMenu>
                                <h:outputLabel value="Note (Optional)"/>
                                <h:inputTextarea id="markNote" styleClass="form-control" value="#{marksBean.editUserDTO.mark.notes}" />
                                <h:outputLabel value="Mark Type"/>
                                <h:inputText id="markType" styleClass="form-control padding-horizontal-5px" value="#{marksBean.editUserDTO.mark.markType}" />
                                <h:commandButton value="Submit" styleClass="btn btn-primary margin-horizontal-15px" action="#{marksBean.addMarkForUser}" />
                            </div>
                        </div>
                        <!--TODO walidacja!!!-->
                    </h:form>
                </h:panelGroup>
            </div>
        </ui:define>
        <ui:define name="messages">
        </ui:define>
    </ui:composition>
</h:body>

</html>